\begin{tikzpicture}[]
\definecolor{green}{rgb}{0.35,0.60,0.30}% green

\begin{axis}[
  axis equal = {true}
]

\node[inner sep=0pt] (wall) at (5,-1.8)
    {\includegraphics[width=.15\textwidth]{figures/altro_mpc/FBD.pdf}};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.03333333333333333
] coordinates {
  (4.0, 4.0)
  (2.0, 4.0)
  (2.0, 2.0)
  (4.0, 2.0)
  (4.0, 4.0)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.03333333333333333
] coordinates {
  (3.0, 3.0)
  (3.0, 1.0379999999999998)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.03333333333333333
] coordinates {
  (2.0, 3.0)
  (-0.1957404355208432, 2.560279498653276)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.03333333333333333
] coordinates {
  (4.0, 3.0)
  (5.726638570701081, 2.136680721369303)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.1
] coordinates {
  (4.0333101752798735, 3.9456260697217687)
  (2.033376432685988, 3.9293464740752455)
  (2.0496560283325103, 1.9294127314813603)
  (4.049589770926396, 1.945692327127883)
  (4.0333101752798735, 3.9456260697217687)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.1
] coordinates {
  (3.041483101806192, 2.9375194006015644)
  (3.041483101806192, 0.9755194006015642)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.1
] coordinates {
  (2.041516230509249, 2.9293796027783032)
  (0.03741382798830717, 2.3212856215146287)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.1
] coordinates {
  (4.041449973103134, 2.9456591984248255)
  (5.98033826950893, 1.9958634374120043)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.16666666666666666
] coordinates {
  (4.08443031594357, 3.812205214059878)
  (2.085405624495542, 3.7497529684548194)
  (2.1478578701006006, 1.7507282770067911)
  (4.146882561548629, 1.8131805226118496)
  (4.08443031594357, 3.812205214059878)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.16666666666666666
] coordinates {
  (3.1161440930220854, 2.7814667455333346)
  (3.1161440930220854, 0.8194667455333344)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.16666666666666666
] coordinates {
  (2.1166317472980714, 2.7502406227308054)
  (0.24300314886626695, 1.9808820575768928)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.16666666666666666
] coordinates {
  (4.115656438746099, 2.812692868335864)
  (6.21584871633959, 1.8433513631594203)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.23333333333333334
] coordinates {
  (4.0905514619076975, 3.6367058736262994)
  (2.0950765425106805, 3.5022445555550075)
  (2.2295378605819725, 1.5067696361579905)
  (4.225012779978989, 1.6412309542292824)
  (4.0905514619076975, 3.6367058736262994)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.23333333333333334
] coordinates {
  (3.160044661244835, 2.571737754892145)
  (3.160044661244835, 0.6097377548921448)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.23333333333333334
] coordinates {
  (2.1623072015463265, 2.504507095856499)
  (0.3658196520645445, 1.5813549048271063)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.23333333333333334
] coordinates {
  (4.157782120943343, 2.638968413927791)
  (6.374043230677927, 1.7114267628873634)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.3
] coordinates {
  (4.00905532220456, 3.441717606404002)
  (2.022105136268962, 3.21361903426798)
  (2.2502037084049844, 1.2266688483323818)
  (4.237153894340582, 1.4547674204684038)
  (4.00905532220456, 3.441717606404002)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.3
] coordinates {
  (3.129629515304772, 2.334193227368192)
  (3.129629515304772, 0.3721932273681916)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.3
] coordinates {
  (2.1361544223369733, 2.2201439413001807)
  (0.37045688729101545, 1.147009415968624)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.3
] coordinates {
  (4.1231046082725715, 2.448242513436203)
  (6.411307278495063, 1.6146694334666356)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.36666666666666664
] coordinates {
  (3.815903621339155, 3.23785107450474)
  (1.8448317581887261, 2.8989178800597317)
  (2.1837649526337346, 0.927846016909303)
  (4.154836815784163, 1.2667792113543115)
  (3.815903621339155, 3.23785107450474)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.36666666666666664
] coordinates {
  (2.9998342869864447, 2.0828485457070216)
  (2.9998342869864447, 0.12084854570702142)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.36666666666666664
] coordinates {
  (2.0142983554112304, 1.9133819484845174)
  (0.23976348083708054, 0.6880758336574395)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.36666666666666664
] coordinates {
  (3.985370218561659, 2.252315142929526)
  (6.300130824447322, 1.553084282285003)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.43333333333333335
] coordinates {
  (3.5046287914609984, 3.027254275573983)
  (1.5587928309692454, 2.5649530589877214)
  (2.021094047555507, 0.6191170984959684)
  (3.96693000804726, 1.0814183150822299)
  (3.5046287914609984, 3.027254275573983)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.43333333333333335
] coordinates {
  (2.7628614195082526, 1.8231856870349756)
  (2.7628614195082526, -0.13881431296502456)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.43333333333333335
] coordinates {
  (1.789943439262376, 1.592035078741845)
  (-0.02591810703393649, 0.20549544845750378)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.43333333333333335
] coordinates {
  (3.7357793997541293, 2.054336295328106)
  (6.030261383558997, 1.5161607309174605)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.5
] coordinates {
  (3.085344818037674, 2.807783833085364)
  (1.1753947369997142, 2.2144115317912347)
  (1.7687670382938432, 0.3044614507532748)
  (3.678717119331803, 0.8978337520474038)
  (3.085344818037674, 2.807783833085364)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.5
] coordinates {
  (2.4270559281657587, 1.5561226419193193)
  (2.4270559281657587, -0.40587735808068093)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.5
] coordinates {
  (1.4720808876467788, 1.2594364912722549)
  (-0.4095749513453961, -0.30380162232640195)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.5
] coordinates {
  (3.3820309686847385, 1.8528087925663836)
  (5.609627442043115, 1.4877712798813918)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.5666666666666667
] coordinates {
  (2.583279365516839, 2.577376919798194)
  (0.7202039135501401, 1.8500875274108988)
  (1.4474933059374353, -0.012987924555800001)
  (3.310568757904134, 0.7143014678314952)
  (2.583279365516839, 2.577376919798194)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.5666666666666667
] coordinates {
  (2.015386335727137, 1.282194497621197)
  (2.015386335727137, -0.6798055023788032)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.5666666666666667
] coordinates {
  (1.0838486097437876, 0.9185498014275495)
  (-0.8790612529466597, -0.841573361067695)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.5666666666666667
] coordinates {
  (2.9469240617104866, 1.6458391938148444)
  (5.064340690723556, 1.4516168361782429)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.6333333333333333
] coordinates {
  (2.0364891370252702, 2.338135266061399)
  (0.23052637611046767, 1.478775908057436)
  (1.0898857341144308, -0.3271868528573665)
  (2.8958484950292336, 0.5321725051465966)
  (2.0364891370252702, 2.338135266061399)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.6333333333333333
] coordinates {
  (1.5631874355698505, 1.0054742066020164)
  (1.5631874355698505, -0.9565257933979838)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.6333333333333333
] coordinates {
  (0.6602060551124492, 0.5757945276000349)
  (-1.389735774903833, -1.4034395023504214)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.6333333333333333
] coordinates {
  (2.4661688160272517, 1.4351538856039978)
  (4.437275201755455, 1.3966935000979885)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.7
] coordinates {
  (1.4926289323008275, 2.0996145325462807)
  (-0.24784838975844847, 1.1143538099974866)
  (0.7374123327903455, -0.6261235120617894)
  (2.4778896548496214, 0.3591372104870045)
  (1.4926289323008275, 2.0996145325462807)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.7
] coordinates {
  (1.1150206325455865, 0.7367455102422455)
  (1.1150206325455865, -1.2252544897577546)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.7
] coordinates {
  (0.2447819715159485, 0.24411514896784864)
  (-1.8882722687292015, -1.975138309861733)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.7
] coordinates {
  (1.9852592935752245, 1.2293758715166425)
  (3.7850099622695375, 1.3220767325874383)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.7666666666666667
] coordinates {
  (1.0032422589591001, 1.879860408376432)
  (-0.6662770674072074, 0.7786314499443581)
  (0.43495189102486675, -0.8908878764219493)
  (2.104471217391174, 0.2103410820101248)
  (1.0032422589591001, 1.879860408376432)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.7666666666666667
] coordinates {
  (0.7190970749919834, 0.49448626597724143)
  (0.7190970749919834, -1.4675137340227589)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.7666666666666667
] coordinates {
  (-0.11566258819117037, -0.05612821323879569)
  (-2.1502431338376957, -2.420058478977196)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.7666666666666667
] coordinates {
  (1.5538567381751371, 1.0451007451932786)
  (3.1716638334124965, 1.2392763776090963)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.8333333333333334
] coordinates {
  (0.5997442949386238, 1.6927603000727383)
  (-0.9971114606289726, 0.4885793768263012)
  (0.20706946261746445, -1.108276378741295)
  (1.8039252181850607, 0.09590454450514191)
  (0.5997442949386238, 1.6927603000727383)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.8333333333333334
] coordinates {
  (0.4034068787780441, 0.29224196066572156)
  (0.4034068787780441, -1.6697580393342786)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.8333333333333334
] coordinates {
  (-0.395020999005754, -0.3098485009574969)
  (-2.290547503184285, -2.7788442659269843)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.8333333333333334
] coordinates {
  (1.2018347565618421, 0.8943324222889399)
  (2.6440737497395537, 1.1604566343764262)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.9
] coordinates {
  (0.2940665151483299, 1.545823147076219)
  (-1.2328222773576092, 0.25407602967291104)
  (0.0589248400456987, -1.2728127628330281)
  (1.5858136325516379, 0.018934354570279865)
  (0.2940665151483299, 1.545823147076219)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.9
] coordinates {
  (0.1764956775970143, 0.13650519212159545)
  (0.1764956775970143, -1.8254948078784048)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.9
] coordinates {
  (-0.5869487186559552, -0.5093683665800586)
  (-2.348751131018714, -3.0717303077066167)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.9
] coordinates {
  (0.9399400738499839, 0.7823787508232494)
  (2.23131446341515, 1.0963737747288744)
};

\addplot+[
  mark = {none},
  solid, blue, opacity=0.9666666666666667
] coordinates {
  (0.09385395020410281, 1.4490353581312698)
  (-1.3705345609919102, 0.08684363584063548)
  (-0.00834283870127573, -1.3775448753553774)
  (1.456045672494737, -0.015353153064743046)
  (0.09385395020410281, 1.4490353581312698)
};

\addplot+[
  mark = {none},
  solid, green, opacity=0.9666666666666667
] coordinates {
  (0.042755555751413536, 0.03574524138794622)
  (0.042755555751413536, -1.926254758612054)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.9666666666666667
] coordinates {
  (-0.6894386998465929, -0.645350619757371)
  (-2.323660899367474, -3.2931892007362107)
};

\addplot+[
  mark = {none},
  solid, red, opacity=0.9666666666666667
] coordinates {
  (0.77494981134942, 0.7168411025332634)
  (1.9590095914271304, 1.0645269820758436)
};

\end{axis}
\end{tikzpicture}